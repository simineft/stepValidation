{"ast":null,"code":"import _slicedToArray from \"/home/simin/Projcts/react-lessons/L2-react-listUserOfGithub/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/home/simin/Projcts/react-lessons/L2-react-listUserOfGithub/src/components/uploadImage.js\";\nimport React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport 'react-dropzone-uploader/dist/styles.css';\nimport { nextStep, prevStep, uploadFile } from \"../redux/action\";\n\nclass UploadImage extends Component {\n  constructor(props) {\n    super(props);\n\n    this.continue = e => {\n      e.preventDefault();\n      this.props.nextStep();\n    };\n\n    this.back = e => {\n      e.preventDefault();\n      this.props.prevStep();\n    };\n\n    this.uploadSingleFile = e => {\n      const uploadFile = this.props.uploadFile;\n\n      let _e$target$files = _slicedToArray(e.target.files, 1),\n          file = _e$target$files[0];\n\n      uploadFile(URL.createObjectURL(file));\n    };\n\n    this.state = {\n      file: null\n    };\n  }\n\n  render() {\n    const file = this.props.file;\n    console.log('uploadimage', this.props);\n    let imgPreview;\n\n    if (file) {\n      imgPreview = React.createElement(\"img\", {\n        src: file,\n        alt: \"\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 40\n        },\n        __self: this\n      });\n    }\n\n    return React.createElement(React.Fragment, null, React.createElement(\"form\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 46\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"form-group  preview\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 47\n      },\n      __self: this\n    }, imgPreview), React.createElement(\"div\", {\n      className: \"form-group\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 51\n      },\n      __self: this\n    }, React.createElement(\"input\", {\n      type: \"file\",\n      className: \"form-control\",\n      onChange: this.uploadSingleFile,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 52\n      },\n      __self: this\n    }))), React.createElement(\"button\", {\n      className: \"Back\",\n      onClick: this.back,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 57\n      },\n      __self: this\n    }, \"\\xAB \\u0642\\u0628\\u0644\\u06CC\"));\n  }\n\n}\n\nconst mapStateToProps = state => {\n  return {\n    file: state.file\n  };\n};\n\nconst mapDispatchToProps = dispatch => {\n  return {\n    nextStep: () => dispatch(nextStep()),\n    prevStep: () => dispatch(prevStep()),\n    uploadFile: file => dispatch(uploadFile(file))\n  };\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(UploadImage);","map":{"version":3,"sources":["/home/simin/Projcts/react-lessons/L2-react-listUserOfGithub/src/components/uploadImage.js"],"names":["React","Component","connect","nextStep","prevStep","uploadFile","UploadImage","constructor","props","continue","e","preventDefault","back","uploadSingleFile","target","files","file","URL","createObjectURL","state","render","console","log","imgPreview","mapStateToProps","mapDispatchToProps","dispatch"],"mappings":";;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,SAASC,OAAT,QAAwB,aAAxB;AACA,OAAO,yCAAP;AACA,SAASC,QAAT,EAAmBC,QAAnB,EAA6BC,UAA7B,QAA+C,iBAA/C;;AAGA,MAAMC,WAAN,SAA0BL,SAA1B,CAAoC;AAChCM,EAAAA,WAAW,CAACC,KAAD,EAAQ;AACf,UAAMA,KAAN;;AADe,SASnBC,QATmB,GASRC,CAAC,IAAI;AACZA,MAAAA,CAAC,CAACC,cAAF;AACA,WAAKH,KAAL,CAAWL,QAAX;AACH,KAZkB;;AAAA,SAcnBS,IAdmB,GAcZF,CAAC,IAAI;AACRA,MAAAA,CAAC,CAACC,cAAF;AACA,WAAKH,KAAL,CAAWJ,QAAX;AACH,KAjBkB;;AAAA,SAoBnBS,gBApBmB,GAoBCH,CAAD,IAAO;AAAA,YACdL,UADc,GACC,KAAKG,KADN,CACdH,UADc;;AAAA,2CAEEK,CAAC,CAACI,MAFJ,CAEhBC,KAFgB;AAAA,UAERC,IAFQ;;AAGtBX,MAAAA,UAAU,CAACY,GAAG,CAACC,eAAJ,CAAoBF,IAApB,CAAD,CAAV;AACH,KAxBkB;;AAEf,SAAKG,KAAL,GAAa;AACTH,MAAAA,IAAI,EAAE;AADG,KAAb;AAKH;;AAoBDI,EAAAA,MAAM,GAAG;AAAA,UACGJ,IADH,GACY,KAAKR,KADjB,CACGQ,IADH;AAELK,IAAAA,OAAO,CAACC,GAAR,CAAY,aAAZ,EAA2B,KAAKd,KAAhC;AACA,QAAIe,UAAJ;;AACA,QAAIP,IAAJ,EAAU;AACNO,MAAAA,UAAU,GAAG;AAAK,QAAA,GAAG,EAAEP,IAAV;AAAgB,QAAA,GAAG,EAAC,EAApB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAAb;AACH;;AAGD,WACI,0CACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACI;AAAK,MAAA,SAAS,EAAC,qBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACKO,UADL,CADJ,EAKI;AAAK,MAAA,SAAS,EAAC,YAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACI;AAAO,MAAA,IAAI,EAAC,MAAZ;AAAmB,MAAA,SAAS,EAAC,cAA7B;AAA4C,MAAA,QAAQ,EAAE,KAAKV,gBAA3D;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADJ,CALJ,CADJ,EAYI;AAAQ,MAAA,SAAS,EAAC,MAAlB;AAAyB,MAAA,OAAO,EAAE,KAAKD,IAAvC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uCAZJ,CADJ;AAoBH;;AAzD+B;;AA6DpC,MAAMY,eAAe,GAAIL,KAAD,IAAW;AAC/B,SAAO;AACHH,IAAAA,IAAI,EAAEG,KAAK,CAACH;AADT,GAAP;AAGH,CAJD;;AAQA,MAAMS,kBAAkB,GAAIC,QAAD,IAAc;AACrC,SAAO;AACHvB,IAAAA,QAAQ,EAAE,MAAMuB,QAAQ,CAACvB,QAAQ,EAAT,CADrB;AAEHC,IAAAA,QAAQ,EAAE,MAAMsB,QAAQ,CAACtB,QAAQ,EAAT,CAFrB;AAGHC,IAAAA,UAAU,EAAGW,IAAD,IAAUU,QAAQ,CAACrB,UAAU,CAACW,IAAD,CAAX;AAH3B,GAAP;AAMH,CAPD;;AAWA,eAAed,OAAO,CAACsB,eAAD,EAAkBC,kBAAlB,CAAP,CAA6CnB,WAA7C,CAAf","sourcesContent":["import React, { Component } from 'react';\nimport { connect } from 'react-redux'\nimport 'react-dropzone-uploader/dist/styles.css';\nimport { nextStep, prevStep, uploadFile } from \"../redux/action\"\n\n\nclass UploadImage extends Component {\n    constructor(props) {\n        super(props)\n        this.state = {\n            file: null,\n\n        }\n\n    }\n\n    continue = e => {\n        e.preventDefault();\n        this.props.nextStep();\n    }\n\n    back = e => {\n        e.preventDefault();\n        this.props.prevStep();\n    }\n\n\n    uploadSingleFile = (e) => {\n        const { uploadFile } = this.props;\n        let { files: [file] } = e.target;\n        uploadFile(URL.createObjectURL(file))\n    }\n\n\n    render() {\n        const { file } = this.props;\n        console.log('uploadimage', this.props)\n        let imgPreview;\n        if (file) {\n            imgPreview = <img src={file} alt='' />;\n        }\n\n\n        return (\n            <>\n                <form>\n                    <div className=\"form-group  preview\">\n                        {imgPreview}\n                    </div>\n\n                    <div className=\"form-group\"   >\n                        <input type=\"file\" className=\"form-control\" onChange={this.uploadSingleFile} />\n                    </div>\n\n                </form >\n\n                <button className=\"Back\" onClick={this.back}>\n                    « قبلی\n                </button>\n\n\n            </>\n        );\n    }\n}\n\n\nconst mapStateToProps = (state) => {\n    return {\n        file: state.file\n    }\n}\n\n\n\nconst mapDispatchToProps = (dispatch) => {\n    return {\n        nextStep: () => dispatch(nextStep()),\n        prevStep: () => dispatch(prevStep()),\n        uploadFile: (file) => dispatch(uploadFile(file))\n\n    }\n}\n\n\n\nexport default connect(mapStateToProps, mapDispatchToProps)(UploadImage)"]},"metadata":{},"sourceType":"module"}